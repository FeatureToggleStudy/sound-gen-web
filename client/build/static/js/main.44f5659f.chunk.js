(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e){e.exports=["0.0_0.0_0.0_1.0","0.0_0.0_0.1_0.9","0.0_0.0_0.2_0.8","0.0_0.0_0.3_0.7","0.0_0.0_0.4_0.6","0.0_0.0_0.5_0.5","0.0_0.0_0.6_0.4","0.0_0.0_0.7_0.3","0.0_0.0_0.8_0.2","0.0_0.0_0.9_0.1","0.0_0.0_1.0_0.0","0.0_0.1_0.0_0.9","0.0_0.1_0.1_0.8","0.0_0.1_0.2_0.7","0.0_0.1_0.3_0.6","0.0_0.1_0.4_0.5","0.0_0.2_0.0_0.8","0.0_0.2_0.1_0.7","0.0_0.2_0.2_0.6","0.0_0.3_0.0_0.7","0.0_0.3_0.1_0.6","0.0_0.4_0.0_0.6","0.0_0.4_0.1_0.5","0.0_0.5_0.0_0.5","0.0_0.6_0.0_0.4","0.0_0.7_0.0_0.3","0.0_0.8_0.0_0.2","0.0_0.9_0.0_0.1","0.0_1.0_0.0_0.0","0.1_0.0_0.5_0.4","0.1_0.0_0.6_0.3","0.1_0.0_0.7_0.2","0.1_0.0_0.8_0.1","0.1_0.0_0.9_0.0","0.1_0.1_0.2_0.6","0.1_0.1_0.3_0.5","0.1_0.1_0.4_0.4","0.1_0.1_0.5_0.3","0.1_0.1_0.6_0.2","0.1_0.2_0.1_0.6","0.1_0.2_0.2_0.5","0.1_0.2_0.3_0.4","0.1_0.3_0.1_0.5","0.1_0.3_0.2_0.4","0.1_0.4_0.1_0.4","0.1_0.5_0.0_0.4","0.1_0.5_0.1_0.3","0.1_0.6_0.0_0.3","0.1_0.6_0.1_0.2","0.1_0.7_0.0_0.2","0.1_0.8_0.0_0.1","0.1_0.9_0.0_0.0","0.2_0.0_0.6_0.2","0.2_0.0_0.7_0.1","0.2_0.0_0.8_0.0","0.2_0.1_0.4_0.3","0.2_0.1_0.5_0.2","0.2_0.1_0.6_0.1","0.2_0.2_0.2_0.2","0.2_0.2_0.2_0.4","0.2_0.2_0.3_0.3","0.2_0.2_0.4_0.2","0.2_0.3_0.2_0.3","0.2_0.4_0.1_0.3","0.2_0.4_0.2_0.2","0.2_0.5_0.1_0.2","0.2_0.6_0.0_0.2","0.2_0.6_0.1_0.1","0.2_0.7_0.0_0.1","0.2_0.8_0.0_0.0","0.3_0.0_0.6_0.1","0.3_0.0_0.7_0.0","0.3_0.1_0.4_0.2","0.3_0.1_0.5_0.1","0.3_0.2_0.3_0.2","0.3_0.3_0.2_0.2","0.3_0.4_0.1_0.2","0.3_0.5_0.1_0.1","0.3_0.6_0.0_0.1","0.3_0.7_0.0_0.0","0.4_0.0_0.5_0.1","0.4_0.0_0.6_0.0","0.4_0.1_0.4_0.1","0.4_0.2_0.2_0.2","0.4_0.2_0.3_0.1","0.4_0.3_0.2_0.1","0.4_0.4_0.1_0.1","0.4_0.5_0.0_0.1","0.4_0.6_0.0_0.0","0.5_0.0_0.5_0.0","0.5_0.1_0.3_0.1","0.5_0.1_0.4_0.0","0.5_0.1_0.5_0.1","0.5_0.2_0.2_0.1","0.5_0.3_0.1_0.1","0.5_0.4_0.1_0.0","0.5_0.5_0.0_0.0","0.5_0.5_0.1_0.1","0.6_0.0_0.4_0.0","0.6_0.1_0.2_0.1","0.6_0.1_0.3_0.0","0.6_0.2_0.1_0.1","0.6_0.2_0.2_0.0","0.6_0.3_0.1_0.0","0.6_0.4_0.0_0.0","0.7_0.0_0.3_0.0","0.7_0.1_0.2_0.0","0.7_0.2_0.1_0.0","0.7_0.3_0.0_0.0","0.8_0.0_0.2_0.0","0.8_0.1_0.1_0.0","0.8_0.2_0.0_0.0","0.9_0.0_0.1_0.0","0.9_0.1_0.0_0.0","1.0_0.0_0.0_0.0"]},114:function(e){e.exports=[{key:"A",value:36},{key:"W",value:40},{key:"S",value:44},{key:"E",value:48},{key:"D",value:52},{key:"R",value:56},{key:"F",value:60},{key:"T",value:64},{key:"G",value:68},{key:"Y",value:72},{key:"H",value:76},{key:"U",value:80},{key:"J",value:84}]},115:function(e){e.exports=[{id:"grid_1",name:"#1: Strings, Bells, Synth, Guitar",fileUrl:{storagePath:"https://storage.googleapis.com",bucket:"augmented-music-generation-dev",folderPath:"/latent_grids/test",gridName:"cleaned_grid_v3"},labels:[{name:"Strings",position:"NW"},{name:"Bells",position:"NE"},{name:"Synth",position:"SW"},{name:"Guitar",position:"SE"}]},{id:"grid_4",name:"#2: Organ, Mallet, Balafon, Synth",fileUrl:{storagePath:"https://storage.googleapis.com",bucket:"augmented-music-generation-dev",folderPath:"/latent_grids/grid_4",gridName:"cleaned_grid_v4"},labels:[{name:"Organ",position:"NW"},{name:"Mallet",position:"NE"},{name:"Balafon",position:"SW"},{name:"Synth",position:"SE"}]},{id:"grid_2",name:"#3: Clarinet, Bells, Organ, Strings",fileUrl:{storagePath:"https://storage.googleapis.com",bucket:"augmented-music-generation-dev",folderPath:"/latent_grids/grid_2",gridName:"cleaned_grid_v2"},labels:[{name:"Clarinet",position:"NW"},{name:"Bells",position:"NE"},{name:"Organ",position:"SW"},{name:"Strings",position:"SE"}]}]},117:function(e,t,a){e.exports=a(287)},122:function(e,t,a){},284:function(e,t,a){},287:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(22),r=a.n(i),l=(a(122),a(17)),o=a(18),c=a(21),d=a(19),h=a(20),u=a(16),p=a(116),_=a.n(p),m=a(44),v=a.n(m),y=a(23),f=a.n(y),g=a(63),b=a(33),k=a(102),E=a.n(k),S=a(43),P=a.n(S),w=a(103),W=a.n(w),x=a(62),O=a.n(x),j=a(61),M=a.n(j),A=a(106),K=a.n(A),C=a(104),L=a.n(C),N={wrapper:{margin:"auto",maxWidth:440},slider:{padding:"22px 0px",margin:"auto",maxWidth:600,touchAction:"none"},label:{color:"white"}},R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e,t){a.setState({value:t}),a.props.handleChange({pitch:t})},a.state={value:0},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.defaultValue;this.setState({value:e})}},{key:"render",value:function(){var e=s.a.createElement("div",null,s.a.createElement(L.a,{id:"label",style:N.label},"Pitch"),s.a.createElement(K.a,{style:N.slider,value:this.state.value,min:this.props.min,max:this.props.max,step:this.props.step,onChange:this.handleChange}));return s.a.createElement("div",{style:N.wrapper},e)}}]),t}(n.Component),U=Object(u.withStyles)(N)(R),Y=a(8),T=a.n(Y),X=a(42),D=a.n(X),G={wrapper:{},key:{width:"100%",paddingLeft:0,paddingRight:0,border:"1px solid "+f.a.A400},keyActive:{width:"100%",paddingLeft:0,paddingRight:0,background:f.a.A700,border:"1px solid "+f.a.A400}},B=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={isActive:!1,color:"default"},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"updateKeyPressed",value:function(e){this.props.updateKeyPressed({key:this.props.label,pitch:this.props.pitch,active:e})}},{key:"handleMouseEnter",value:function(){}},{key:"handleMouseOut",value:function(){this.setState({isActive:!1})}},{key:"handleMouseDown",value:function(){this.setState({isActive:!0}),this.updateKeyPressed(!0)}},{key:"handleMouseUp",value:function(){this.setState({isActive:!1}),this.updateKeyPressed(!1)}},{key:"handleKeyDown",value:function(e){e.key.toLowerCase()===this.props.label.toLowerCase()&&(!0!==this.state.isActive&&this.updateKeyPressed(!0),this.setState({isActive:!0}))}},{key:"handleKeyUp",value:function(e){e.key.toLowerCase()===this.props.label.toLowerCase()&&(this.setState({isActive:!1}),this.updateKeyPressed(!1))}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown.bind(this),!1),document.addEventListener("keyup",this.handleKeyUp.bind(this),!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown.bind(this),!1),document.removeEventListener("key",this.handleKeyUp.bind(this),!1)}},{key:"render",value:function(){var e=s.a.createElement(D.a,{style:this.state.isActive?G.keyActive:G.key,color:"secondary",size:"small",onMouseDown:this.handleMouseDown.bind(this),onMouseUp:this.handleMouseUp.bind(this),onMouseEnter:this.handleMouseEnter.bind(this),onMouseOut:this.handleMouseOut.bind(this)},this.props.label);return s.a.createElement("div",{style:G.wrapper},e)}}]),t}(n.Component),H=Object(u.withStyles)(G)(B),I={wrapper:{maxWidth:700,margin:"auto"},keyboardTop:{},keyboardBottom:{marginTop:5},keyWrapper:{marginRight:10,marginLeft:10}},z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={isActive:!1,color:"default"},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=s.a.createElement("div",null,s.a.createElement(T.a,{container:!0,spacing:8,style:I.keyboardTop,justify:"center",alignItems:"center"},s.a.createElement(T.a,{item:!0,xs:1,style:I.keyWrapper},s.a.createElement(H,{label:"W",pitch:40,updateKeyPressed:this.props.updateKeyPressed})),s.a.createElement(T.a,{item:!0,xs:1,style:I.keyWrapper},s.a.createElement(H,{label:"E",pitch:48,updateKeyPressed:this.props.updateKeyPressed})),s.a.createElement(T.a,{item:!0,xs:1,style:I.keyWrapper},s.a.createElement(H,{label:"R",pitch:56,updateKeyPressed:this.props.updateKeyPressed})),s.a.createElement(T.a,{item:!0,xs:1,style:I.keyWrapper},s.a.createElement(H,{label:"T",pitch:64,updateKeyPressed:this.props.updateKeyPressed})),s.a.createElement(T.a,{item:!0,xs:1,style:I.keyWrapper},s.a.createElement(H,{label:"Y",pitch:72,updateKeyPressed:this.props.updateKeyPressed})),s.a.createElement(T.a,{item:!0,xs:1,style:I.keyWrapper},s.a.createElement(H,{label:"U",pitch:80,updateKeyPressed:this.props.updateKeyPressed}))),s.a.createElement(T.a,{container:!0,spacing:8,style:I.keyboardBottom,justify:"center",alignItems:"stretch"},s.a.createElement(T.a,{item:!0,xs:1,style:I.keyWrapper},s.a.createElement(H,{label:"A",pitch:36,updateKeyPressed:this.props.updateKeyPressed})),s.a.createElement(T.a,{item:!0,xs:1,style:I.keyWrapper},s.a.createElement(H,{label:"S",pitch:44,updateKeyPressed:this.props.updateKeyPressed})),s.a.createElement(T.a,{item:!0,xs:1,style:I.keyWrapper},s.a.createElement(H,{label:"D",pitch:52,updateKeyPressed:this.props.updateKeyPressed})),s.a.createElement(T.a,{item:!0,xs:1,style:I.keyWrapper},s.a.createElement(H,{label:"F",pitch:60,updateKeyPressed:this.props.updateKeyPressed})),s.a.createElement(T.a,{item:!0,xs:1,style:I.keyWrapper},s.a.createElement(H,{label:"G",pitch:68,updateKeyPressed:this.props.updateKeyPressed})),s.a.createElement(T.a,{item:!0,xs:1,style:I.keyWrapper},s.a.createElement(H,{label:"H",pitch:76,updateKeyPressed:this.props.updateKeyPressed})),s.a.createElement(T.a,{item:!0,xs:1,style:I.keyWrapper},s.a.createElement(H,{label:"J",pitch:84,updateKeyPressed:this.props.updateKeyPressed}))));return s.a.createElement("div",{style:I.wrapper},e)}}]),t}(n.Component),F=Object(u.withStyles)(I)(z),V=a(108),J=a.n(V),$=a(109),q=a.n($),Q=a(107),Z=a.n(Q),ee=a(110),te=a.n(ee),ae={wrapper:{display:"flex",flexWrap:"wrap"},formControl:{margin:"auto",padding:5,width:350},select:{color:"white"},selectEmpty:{marginTop:10}},ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){var t=e.target.value;a.setState({value:t}),a.props.changeHandler({value:t})},a.state={value:0,label:"Default",labelWidth:0},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.defaultValue&&this.setState({value:this.props.defaultValue})}},{key:"render",value:function(){var e=this.props.options,t=s.a.createElement("div",null);e&&(t=e.map(function(e){return s.a.createElement(Z.a,{key:e.name,value:e.id},e.name)}));var a=s.a.createElement(J.a,{style:ae.formControl},s.a.createElement(q.a,{style:ae.select,value:this.state.value,onChange:this.handleChange,input:s.a.createElement(te.a,{labelWidth:this.state.labelWidth,id:"grid-selector"})},t));return s.a.createElement("div",{style:ae.wrapper},a)}}]),t}(n.Component),se=Object(u.withStyles)(ae)(ne),ie=a(111),re={wrapper:{maxWidth:700,margin:"auto"},loading:{position:"relative",top:-220},sketchArea:{border:"1px solid white",maxWidth:600,height:300,margin:"auto"},sketchAreaLoading:{border:"1px dashed black",maxWidth:600,height:300,margin:"auto"},soundLeft:{fontSize:16,textAlign:"left",padding:10},soundRight:{fontSize:16,textAlign:"right",padding:10}},le=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={updateInterval:500,notConfiguredText:"Not Configured",currentPosX:0,currentPosY:0,targetPosX:0,targetPosY:0,currentPercentX:0,currentPercentY:0,canvasWidth:0,canvasHeight:0,easing:.06,circleRadius:30,isMoving:!1,sentLastPos:!1,isActive:!1,hasBeenActivated:!1},a.sketchRef=s.a.createRef(),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"updateLatentSelector",value:function(){!0!==this.state.isMoving&&!0!==this.state.isActive||this.setState({sentLastPos:!1}),!0!==this.state.sentLastPos&&(this.props.changeHandler({x:this.state.currentPercentX,y:this.state.currentPercentY,hasBeenActivated:this.state.hasBeenActivated}),this.setState({sentLastPos:!0}))}},{key:"calcPercent",value:function(){var e=this.state.currentPosX/this.state.canvasWidth,t=this.state.currentPosY/this.state.canvasHeight;e>1&&(e=1),e<0&&(e=0),t>1&&(t=1),t<0&&(t=0),this.setState({currentPercentX:e,currentPercentY:t})}},{key:"updateCanvasSize",value:function(){var e=this.sketchRef.current.offsetHeight,t=this.sketchRef.current.offsetWidth;this.setState({canvasWidth:t,canvasHeight:e})}},{key:"redrawCanvas",value:function(){var e=this.state.canvasHeight,t=this.state.canvasWidth;this.updateCanvasSize();var a=this.state.canvasHeight,n=(this.state.canvasWidth-t)/2,s=(a-e)/2;this.setState({currentPosX:this.state.currentPosX+n,currentPosY:this.state.currentPosY+s,targetX:this.state.targetX+n,targetY:this.state.targetY+s}),this.p5.resizeCanvas(this.state.canvasWidth,this.state.canvasHeight),this.p5.redraw()}},{key:"initP5",value:function(e){var t=this;this.setState({targetX:this.sketchRef.current.offsetWidth/2,targetY:this.sketchRef.current.offsetHeight/2}),this.sk.setup=function(){var e=t.sk.createCanvas(t.state.canvasWidth,t.state.canvasHeight);t.sk.noStroke(),e.parent(t.sketchRef.current.id)},this.sk.draw=function(){var e,a,n=0,s=1;t.sk.clear(),t.sk.mouseIsPressed&&t.sk.mouseX>=0&&t.sk.mouseX<=t.state.canvasWidth&&t.sk.mouseY>=0&&t.sk.mouseY<=t.state.canvasHeight&&t.setState({targetX:t.sk.mouseX,targetY:t.sk.mouseY}),a=t.state.targetY-t.state.currentPosY,e=t.state.targetX-t.state.currentPosX,t.setState({currentPosX:t.state.currentPosX+e*t.state.easing,currentPosY:t.state.currentPosY+a*t.state.easing}),Math.abs(a)>.5||Math.abs(e)>.5?t.setState({isMoving:!0}):t.setState({isMoving:!1}),!0===t.state.isMoving&&t.calcPercent();for(var i=0;i<t.state.circleRadius;i+=s)!0===t.state.isMoving?(n=Math.floor(5*Math.random()*Math.max(Math.abs(e),Math.abs(a))),s=2,t.sk.stroke(37+n,175+n,180+n),t.sk.strokeWeight(1)):(s=5,t.sk.stroke(37+n,175+n,180+n),t.sk.strokeWeight(3)),t.sk.noFill(),!0!==t.props.loading&&t.sk.ellipse(t.state.currentPosX,t.state.currentPosY,i,i)}}},{key:"handleMouseDown",value:function(){this.setState({isActive:!0}),this.setState({hasBeenActivated:!0})}},{key:"handleMouseUp",value:function(){this.setState({isActive:!1})}},{key:"handleTouchStart",value:function(){this.setState({isActive:!0}),this.setState({hasBeenActivated:!0})}},{key:"handleMouseEnd",value:function(){this.setState({isActive:!1})}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",this.redrawCanvas.bind(this)),window.addEventListener("touchend",this.handleMouseUp.bind(this)),window.addEventListener("mouseup",this.handleMouseUp.bind(this)),setInterval(this.updateLatentSelector.bind(this),this.state.updateInterval),setTimeout(function(){e.s=function(t){e.sk=t,e.updateCanvasSize(),e.initP5()},e.p5=new ie(e.s)},500)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.redrawCanvas),window.addEveremoveEventListenerntListener("touchend",this.handleMouseUp),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e;!0===this.props.loading&&(e=s.a.createElement(P.a,{style:re.loading}));var t=s.a.createElement("div",null,s.a.createElement(T.a,{container:!0,spacing:24},s.a.createElement(T.a,{item:!0,xs:6,style:re.soundLeft},this.props.loading?"-":this.props.labelNW.name),s.a.createElement(T.a,{item:!0,xs:6,style:re.soundRight},this.props.loading?"-":this.props.labelNE.name)),s.a.createElement(T.a,{container:!0,spacing:24},s.a.createElement(T.a,{item:!0,xs:12},s.a.createElement("div",{id:"sketch-area",ref:this.sketchRef,style:this.props.loading?re.sketchAreaLoading:re.sketchArea,onMouseDown:this.handleMouseDown.bind(this),onMouseUp:this.handleMouseUp.bind(this)},e))),s.a.createElement(T.a,{container:!0,spacing:24},s.a.createElement(T.a,{item:!0,xs:6,style:re.soundLeft},this.props.loading?"-":this.props.labelSW.name),s.a.createElement(T.a,{item:!0,xs:6,style:re.soundRight},this.props.loading?"-":this.props.labelSE.name)));return s.a.createElement("div",{style:re.wrapper},t)}}]),t}(n.Component),oe=Object(u.withStyles)(re)(le),ce=a(112),de=a.n(ce),he={wrapper:{},inactive:{height:60,minWidth:300,maxWidth:600,border:"1px solid "+f.a.A400},active:{height:60,minWidth:300,maxWidth:600,color:"white",background:f.a.A700,border:"1px solid "+f.a.A400}},ue=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={isActive:!1,color:"default"},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handlePlay",value:function(){var e=this;!0!==this.state.isActive&&(this.props.playSound(),this.setState({isActive:!0}),setTimeout(function(){e.setState({isActive:!1})},this.props.playTimeout))}},{key:"render",value:function(){var e=s.a.createElement(D.a,{style:this.state.isActive?he.active:he.inactive,color:"secondary",size:"small",onClick:this.handlePlay.bind(this)},s.a.createElement(de.a,null));return s.a.createElement("div",{style:he.wrapper},e)}}]),t}(n.Component),pe=Object(u.withStyles)(he)(ue),_e={content:{padding:20,width:"100%"}},me=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={loading:!0,latentSpaceLoading:!1,serverError:!1,latentRatioNW:0,latentRatioNE:0,latentRatioSW:0,latentRatioSE:0,labelNW:"",labelNE:"",labelSW:"",labelSE:"",pitch:null,selectedGrid:null},a.loadPlayer=a.loadPlayer.bind(Object(b.a)(Object(b.a)(a))),a.soundUrls={},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"loadGrid",value:function(){var e=this,t=this.state.selectedGridId,a=this.props.data.grids.find(function(e){return t===e.id});this.setState({latentSpaceLoading:!0}),a&&this.setState({selectedGrid:a,labelNW:a.labels.find(function(e){return"NW"===e.position})||{name:this.state.notConfiguredText},labelNE:a.labels.find(function(e){return"NE"===e.position})||{name:this.state.notConfiguredText},labelSW:a.labels.find(function(e){return"SW"===e.position})||{name:this.state.notConfiguredText},labelSE:a.labels.find(function(e){return"SE"===e.position})||{name:this.state.notConfiguredText}},function(){e.downloadSoundFiles(),e.loadPlayer()})}},{key:"downloadSoundFiles",value:function(){var e=this,t=this.state.selectedGrid,a=this.props.data.latentSpaces,n="".concat(t.fileUrl.storagePath,"/").concat(t.fileUrl.bucket);this.soundUrls={},a.forEach(function(a){e.props.data.pitches.forEach(function(s){var i="".concat(a,"_pitch_").concat(s.value),r="".concat(n).concat(t.fileUrl.folderPath,"/").concat(t.fileUrl.gridName,"_").concat(i,"_vel_127.mp3");e.soundUrls[i]=r})})}},{key:"loadPlayer",value:function(){var e=this;setTimeout(function(){e.players=new E.a.Players(e.soundUrls,function(){e.setState({loading:!1}),e.setState({latentSpaceLoading:!1})}).toMaster()},500)}},{key:"componentDidMount",value:function(){var e=this;this.setState({pitch:this.props.data.default.pitch.value,selectedGridId:this.props.data.default.selectedGridId},function(){e.loadGrid()})}},{key:"updatePitch",value:function(e){var t=this;this.setState({pitch:e.pitch},function(){t.playSound()})}},{key:"playSound",value:function(e){var t=e||this.state.pitch,a="".concat(this.state.latentRatioNW)+"_".concat(this.state.latentRatioNE)+"_".concat(this.state.latentRatioSW)+"_".concat(this.state.latentRatioSE);if(this.players){var n=a+"_pitch_"+t,s=this.players.get(n);if(s)try{s.start()}catch(i){console.log("error playing sound: "+n)}else console.log("does not exist: "+n)}}},{key:"updateKeyPressed",value:function(e){var t=e.pitch;!0===e.active&&this.playSound(t)}},{key:"updateGridSelector",value:function(e){var t=this;this.setState({selectedGridId:e.value},function(){t.loadGrid()})}},{key:"updateLatentSelector",value:function(e){for(var t=this,a=parseFloat(e.x).toFixed(1),n=parseFloat(e.y).toFixed(1),s=e.hasBeenActivated,i=[Math.round(10*(1-a)*(1-n))/10,Math.round(10*a*(1-n))/10,Math.round(10*(1-a)*n)/10,Math.round(10*a*n)/10],r=i.reduce(function(e,t){return e+t}),l=0;1!==r&&10!==l;){if(r<1){var o=i.indexOf(Math.max.apply(Math,Object(g.a)(i)));i[o]+=.1}if(r>1){var c=i.indexOf(Math.max.apply(Math,Object(g.a)(i)));i[c]-=.1}r=i.reduce(function(e,t){return e+t}),l++}i=i.map(function(e){return parseFloat(e).toFixed(1)}),this.setState({latentRatioNW:i[0],latentRatioNE:i[1],latentRatioSW:i[2],latentRatioSE:i[3]},function(){!0===s&&t.playSound()})}},{key:"render",value:function(){var e;return e=!0===this.state.loading?s.a.createElement(P.a,null):!0===this.state.serverError?s.a.createElement("div",null,"Server Unreachable",s.a.createElement("br",null),s.a.createElement("br",null),"Try Reloading App"):s.a.createElement("div",null,s.a.createElement(O.a,{xsDown:!0},s.a.createElement(se,{changeHandler:this.updateGridSelector.bind(this),defaultValue:this.props.data.default.selectedGridId,options:this.props.data.grids}),s.a.createElement("br",null)),s.a.createElement(oe,{changeHandler:this.updateLatentSelector.bind(this),loading:this.state.latentSpaceLoading,labelNW:this.state.labelNW,labelNE:this.state.labelNE,labelSE:this.state.labelSE,labelSW:this.state.labelSW}),s.a.createElement("br",null),s.a.createElement(U,{min:this.props.data.default.pitch.min,max:this.props.data.default.pitch.max,step:this.props.data.default.pitch.stepSize,defaultValue:this.state.pitch,handleChange:this.updatePitch.bind(this)}),s.a.createElement("br",null),s.a.createElement(pe,{playSound:this.playSound.bind(this),playTimeout:500}),s.a.createElement("br",null),s.a.createElement(O.a,{xsDown:!0},s.a.createElement(F,{updateKeyPressed:this.updateKeyPressed.bind(this)}))),s.a.createElement("div",{style:_e.content},e)}}]),t}(n.Component),ve=W()(Object(u.withStyles)(_e),M()())(me),ye=a(113),fe=a(114),ge=a(115),be=(a(284),{latentSpaces:ye,pitches:fe,grids:ge,default:{selectedGridId:"grid_1",pitch:{value:40,min:36,max:84,stepSize:4}}}),ke=Object(u.createMuiTheme)({palette:{type:"dark",primary:{light:v.a[300],main:v.a[500],dark:v.a[700]},secondary:{light:f.a.A200,main:f.a.A400,dark:f.a.A700}},typography:{useNextVariants:!0}}),Ee=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(u.MuiThemeProvider,{theme:ke},s.a.createElement(_.a,null),s.a.createElement("div",{className:"App"},s.a.createElement("main",{className:"App-main"},s.a.createElement(ve,{data:be}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(Ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[117,2,1]]]);
//# sourceMappingURL=main.44f5659f.chunk.js.map